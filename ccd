#!/bin/zsh

CONDA_ROOT=~/miniconda3
export PATH="$CONDA_ROOT/bin:$PATH"

# 初始化 Conda（zsh 需要使用 `conda` 内部提供的初始化脚本）
if [ -f "$CONDA_ROOT/etc/profile.d/conda.sh" ]; then
    source "$CONDA_ROOT/etc/profile.d/conda.sh"
else
    echo "Error: Conda initialization script not found!"
    exit 1
fi

# 如果提供了环境名，则激活
if [ -n "$1" ]; then
    conda activate "$1"
fi

# 载入 bash 补全（可选）
if [ -f "$CONDA_ROOT/etc/profile.d/bash_completion.sh" ]; then
    source "$CONDA_ROOT/etc/profile.d/bash_completion.sh"
fi

